enable_isr:
  commands:
    # below data does not line up with the actual router's addresses but is sufficient for testing purposes
    "show sdwan control connections": |
      PEER    PEER    PEER            SITE       DOMAIN PEER                                    PRIV  PEER                                    PUB                                           GROUP
      TYPE    PROT    SYSTEM IP       ID         ID     PRIVATE IP                              PORT  PUBLIC IP                               PORT  ORGANIZATION            LOCAL COLOR     PROXY STATE UPTIME      ID
      -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      vsmart  dtls    100.0.0.103     100        1      172.16.0.103                            12346 172.16.0.103                            12346 cml-sdwan-lab-tool      biz-internet    No    up     14:18:15:462
      vsmart  dtls    100.0.0.104     100        1      172.16.0.104                            12346 172.16.0.104                            12346 cml-sdwan-lab-tool      biz-internet    No    up     5:00:17:14 2
      vsmart  dtls    100.0.0.103     100        1      172.16.0.103                            12346 172.16.0.103                            12346 cml-sdwan-lab-tool      mpls            No    up     14:18:15:452
      vsmart  dtls    100.0.0.104     100        1      172.16.0.104                            12346 172.16.0.104                            12346 cml-sdwan-lab-tool      mpls            No    up     5:00:17:14 2
      vmanage dtls    100.0.0.1       100        0      172.16.0.1                              12946 172.16.0.1                              12946 cml-sdwan-lab-tool      mpls            No    up     14:18:15:450
    "show install summary": |
      [ Switch 1 ] Installed Package(s) Information:
      State (St): I - Inactive, U - Activated & Uncommitted,
                  C - Activated & Committed, D - Deactivated & Uncommitted
      --------------------------------------------------------------------------------
      Type  St   Filename/Version
      --------------------------------------------------------------------------------
      IMG   C    17.15.04.0.6839

      --------------------------------------------------------------------------------
      Auto abort timer: inactive
      --------------------------------------------------------------------------------
    "show sdwan software": |
      VERSION          ACTIVE  DEFAULT  PREVIOUS  CONFIRMED  TIMESTAMP
      ----------------------------------------------------------------------------------
      17.15.04.0.6839  true    true     false     -          2026-01-28T16:56:24-00:00

      Total Space:387M Used Space:168M Available Space:215M
    "show sdwan version": |
      17.15.04.0.6839
    "show logging": |
      Syslog logging: enabled (0 messages dropped, 2 messages rate-limited, 0 flushes, 0 overruns, xml disabled, filtering disabled)

      No Active Message Discriminator.



      No Inactive Message Discriminator.


        Console logging: disabled
        Monitor logging: level debugging, 0 messages logged, xml disabled,
                          filtering disabled
        Buffer logging:  level debugging, 6038 messages logged, xml disabled,
                        filtering disabled
        Exception Logging: size (4096 bytes)
        Count and timestamp logging messages: disabled
        File logging: disabled
        Persistent logging: disabled

      No active filter modules.

        Trap logging: level informational, 6036 message lines logged
            Logging Source-Interface:       VRF Name:
        TLS Profiles: 

      Log Buffer (102400 bytes):
      ceived (*, 239.255.255.254) Join from 192.168.34.67 for invalid RP 192.168.34.64
      005285: *Jan 20 01:29:08.097: %PIM-6-INVALID_RP_JOIN: Received (*, 224.0.1.40) Join from 192.168.34.69 for invalid RP 192.168.34.64
      005286: *Jan 20 01:30:14.538: %PIM-6-INVALID_RP_JOIN: Received (*, 239.255.255.250) Join from 192.168.34.67 for invalid RP 192.168.34.64
      005287: *Jan 20 01:31:18.638: %PIM-6-INVALID_RP_JOIN: Received (*, 224.0.1.40) Join from 192.168.34.67 for invalid RP 192.168.34.64
      005288: *Jan 20 01:32:28.638: %PIM-6-INVALID_RP_JOIN: Received (*, 239.255.255.254) Join from 192.168.34.67 for invalid RP 192.168.34.64
      005289: *Jan 20 01:34:05.892: %PIM-6-INVALID_RP_JOIN: Received (*, 224.0.1.40) Join from 192.168.34.69 for invalid RP 192.168.34.64
      005290: *Jan 20 01:35:10.438: %PIM-6-INVALID_RP_JOIN: Received (*, 239.255.255.250) Join from 192.168.34.67 for invalid RP 192.168.34.64
      005291: *Jan 20 01:36:12.738: %PIM-6-INVALID_RP_JOIN: Received (*, 224.0.1.40) Join from 192.168.34.67 for invalid RP 192.168.34.64
      005292: *Jan 20 01:37:24.038: %PIM-6-INVALID_RP_JOIN: Received (*, 239.255.255.254) Join from 192.168.34.67 for invalid RP 192.168.34.64
      005293: *Jan 20 01:39:01.186: %PIM-6-INVALID_RP_JOIN: Received (*, 224.0.1.40) Join from 192.168.34.69 for invalid RP 192.168.34.64
      005294: *Jan 20 01:40:03.538: %PIM-6-INVALID_RP_JOIN: Received (*, 239.255.255.250) Join from 192.168.34.67 for invalid RP 192.168.34.64

config:
  commands:
    "archive": ""
    "path flash:rollback_config": ""
    "no archive": ""
    "end":
      new_state: "enable_isr"

want_to_proceed:
  prompt: "want to proceed. ? [no]: "
  commands:
    "y":
      response: "Rollback Done"
      new_state: "enable_isr"

proceed_with_reload:
  prompt: "Proceed with reload?"
  commands:
    "y":
      response: |
        cisco WS-C4500X-16 (MPC8572) processor (revision 9) with 4194304K bytes of physical memory.
        Processor board ID JAE220406US
        MPC8572 CPU at 1.5GHz, Cisco Catalyst 4500X
        Last reset from Reload
        1 Virtual Ethernet interface
        24 Ten Gigabit Ethernet interfaces
        511K bytes of non-volatile configuration memory.

        Press RETURN to get started!
      new_state: "enable_isr"

invalidprompt:
  prompt: "invalidprompt:"
